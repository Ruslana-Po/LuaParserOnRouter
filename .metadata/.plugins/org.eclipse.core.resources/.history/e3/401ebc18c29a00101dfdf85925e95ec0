CXX = mipsel-openwrt-linux-g++
CXXFLAGS = -I/home/lana/Table/eclipse-workspace/test2/../../../Lua_Var_Exec/include \
           -I/home/lana/Table/googletest/googletest/include \
           -std=c++11 -pthread

LDFLAGS = -L/home/lana/openwrt-19.07./openwrt-19.07/build_dir/target-mipsel_24kc_musl/lua-5.1.5/ipkg-install/usr/lib \
          -L/home/lana/Table/googletest/googletest/build/lib

LIBS = -llua -lgtest -lgtest_main -lpthread

# Все исходные файлы
SOURCES = ./blocksTest.cpp \
          ./marksTest.cpp \
          ./parser.cpp \
          ./strTest.cpp \
          ./test_main.cpp \
          ./treeNode_test.cpp \
          ./tree_test.cpp \
          ../../Lua_Var_Exec/source/str.cpp \
    ../../Lua_Var_Exec/source/parse_exception.cpp \
    ../../Lua_Var_Exec/source/marks.cpp \
    ../../Lua_Var_Exec/source/tree_node.cpp \
    ../../Lua_Var_Exec/source/tree.cpp \
    ../../Lua_Var_Exec/source/blocks.cpp \
    ../../Lua_Var_Exec/LuaWrapper.cpp

# Объектные файлы
OBJECTS = $(SOURCES:.cpp=.o)

TARGET = test2

all: $(TARGET)

$(TARGET): $(OBJECTS)
	$(CXX) $(LDFLAGS) -o $(TARGET) $(OBJECTS) $(LIBS)

%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@

clean:
	rm -f $(TARGET) $(OBJECTS)

